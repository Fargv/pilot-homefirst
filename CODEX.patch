diff --git a/frontend/src/kitchen/pages/WeekPage.jsx b/frontend/src/kitchen/pages/WeekPage.jsx
index 521553ea87f294c48f024e14942330eece8405b1..175423f80a6e31aa9b7792e3a64e8bedd69f3383 100644
--- a/frontend/src/kitchen/pages/WeekPage.jsx
+++ b/frontend/src/kitchen/pages/WeekPage.jsx
@@ -319,125 +319,125 @@ export default function WeekPage() {
   };
 
   const startEditingDay = (day) => {
     const dayKey = day.date.slice(0, 10);
     const dishName = day.mainDishId ? dishMap.get(day.mainDishId)?.name : "";
     setEditingDays((prev) => ({ ...prev, [dayKey]: true }));
     setSideDishEnabled((prev) => ({ ...prev, [dayKey]: Boolean(day.sideDishId) }));
     setMainDishQueries((prev) => ({ ...prev, [dayKey]: dishName || "" }));
     setMainDishOpen((prev) => ({ ...prev, [dayKey]: false }));
   };
 
   const stopEditingDay = (dayKey) => {
     setEditingDays((prev) => ({ ...prev, [dayKey]: false }));
     setMainDishOpen((prev) => ({ ...prev, [dayKey]: false }));
   };
 
   const focusMainDish = (dayKey) => {
     window.requestAnimationFrame(() => {
       const node = mainDishRefs.current.get(dayKey);
       if (node) {
         node.focus();
       }
     });
   };
 
-  const handleAssignCta = async (day, canEdit, isAssigned) => {
-    const dayKey = day.date.slice(0, 10);
-    if (canEdit) {
-      startEditingDay(day);
-      focusMainDish(dayKey);
-      return;
-    }
-    if (!isAssigned && user) {
-      const updatedPlan = await onAssignSelf(day);
-      if (updatedPlan) {
-        startEditingDay(day);
-        focusMainDish(dayKey);
-      }
-    }
+  const handleAssignCta = async (day, canEdit, isAssigned) => {
+    const dayKey = day.date.slice(0, 10);
+    if (canEdit) {
+      startEditingDay(day);
+      focusMainDish(dayKey);
+      return;
+    }
+    if (!isAssigned && user) {
+      const updatedPlan = await onAssignSelf(day);
+      if (updatedPlan) {
+        startEditingDay(day);
+        focusMainDish(dayKey);
+      }
+    }
   };
 
+  const handleCategoryCreated = useCallback(async (name, color) => {
+    const payload = { name };
+    if (color?.colorBg) {
+      payload.colorBg = color.colorBg;
+      payload.colorText = color.colorText;
+    }
+    const data = await apiRequest("/api/categories", {
+      method: "POST",
+      body: JSON.stringify(payload)
+    });
+    const category = data.category;
+    setCategories((prev) => {
+      if (prev.some((item) => item._id === category._id)) {
+        return prev;
+      }
+      return [...prev, category];
+    });
+    return category;
+  }, []);
+
   if (loading) {
     return (
       <KitchenLayout>
         <div className="kitchen-card">Cargando semana...</div>
       </KitchenLayout>
     );
   }
 
   if (!plan) {
     return (
       <KitchenLayout>
         <div className="kitchen-card kitchen-empty">
           <h3>No hay planificación todavía</h3>
           <p>Cuando guardes un día aparecerá aquí.</p>
           {loadError ? <p className="kitchen-inline-error">{loadError}</p> : null}
         </div>
       </KitchenLayout>
     );
   }
 
   const handleWeekShift = (days) => {
     setWeekStart((prev) => addDaysToISO(prev, days));
   };
 
   const handleSelectDay = (dayKey) => {
     setSelectedDay(dayKey);
     const target = dayRefs.current.get(dayKey) || document.getElementById(`kitchen-day-${dayKey}`);
     if (target) {
       target.scrollIntoView({ behavior: "smooth", block: "nearest", inline: "start" });
       target.focus?.({ preventScroll: true });
     }
   };
 
-  const handleCarouselScroll = (direction) => {
-    const element = carouselRef.current;
-    if (!element) return;
-    element.scrollBy({ left: direction * element.clientWidth, behavior: "smooth" });
-  };
-
-  const handleCategoryCreated = useCallback(async (name, color) => {
-    const payload = { name };
-    if (color?.colorBg) {
-      payload.colorBg = color.colorBg;
-      payload.colorText = color.colorText;
-    }
-    const data = await apiRequest("/api/categories", {
-      method: "POST",
-      body: JSON.stringify(payload)
-    });
-    const category = data.category;
-    setCategories((prev) => {
-      if (prev.some((item) => item._id === category._id)) {
-        return prev;
-      }
-      return [...prev, category];
-    });
-    return category;
-  }, []);
-
+  const handleCarouselScroll = (direction) => {
+    const element = carouselRef.current;
+    if (!element) return;
+    element.scrollBy({ left: direction * element.clientWidth, behavior: "smooth" });
+  };
+
   return (
     <KitchenLayout>
       <div className="kitchen-week-controls">
         <section className="kitchen-week-header">
           <div className="kitchen-week-header-actions">
             <div className="kitchen-week-nav" role="group" aria-label="Cambiar semana">
               <button
                 className="kitchen-week-arrow"
                 type="button"
                 onClick={() => handleWeekShift(-7)}
                 aria-label="Ir a la semana anterior"
               >
                 <ChevronIcon className="kitchen-week-arrow-icon" />
               </button>
               <label className="kitchen-field kitchen-week-picker">
                 <input
                   className="kitchen-input"
                   type="date"
                   value={weekStart}
                   onChange={(event) => setWeekStart(event.target.value)}
                   aria-label="Semana"
                 />
               </label>
               <button
                 className="kitchen-week-arrow"
