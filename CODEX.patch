diff --git a/backend/src/kitchen/models/Household.js b/backend/src/kitchen/models/Household.js
index 926e3462aac29dc87ff2ec07a4112efacfdb8649..ff8595b0a62dcde7ffeac75c709a2af48fecccf0 100644
--- a/backend/src/kitchen/models/Household.js
+++ b/backend/src/kitchen/models/Household.js
@@ -1,11 +1,20 @@
 import mongoose from "mongoose";
 
 const HouseholdSchema = new mongoose.Schema(
   {
     name: { type: String, required: true, trim: true },
-    ownerUserId: { type: mongoose.Schema.Types.ObjectId, ref: "KitchenUser", required: true }
+    ownerUserId: { type: mongoose.Schema.Types.ObjectId, ref: "KitchenUser", required: true },
+    inviteCode: { type: String, trim: true, minlength: 6, maxlength: 6, default: null }
   },
   { timestamps: true }
 );
 
+HouseholdSchema.index(
+  { inviteCode: 1 },
+  {
+    unique: true,
+    partialFilterExpression: { inviteCode: { $type: "string" } }
+  }
+);
+
 export const Household = mongoose.model("Household", HouseholdSchema);
diff --git a/backend/src/kitchen/routes/auth.js b/backend/src/kitchen/routes/auth.js
index 1ec7999784e7130fd36fd7aefb55622b9636bd45..df4f095d37f958a44fe74e3e854045f6730f8b24 100644
--- a/backend/src/kitchen/routes/auth.js
+++ b/backend/src/kitchen/routes/auth.js
@@ -1,190 +1,297 @@
 import express from "express";
-import crypto from "crypto";
+import crypto from "crypto";
 import bcrypt from "bcryptjs";
 import { KitchenUser } from "../models/KitchenUser.js";
-import { Invitation } from "../models/Invitation.js";
-import { Household } from "../models/Household.js";
+import { Invitation } from "../models/Invitation.js";
+import { Household } from "../models/Household.js";
 import { createToken, requireAuth } from "../middleware.js";
-import { normalizeEmail } from "../../users/utils.js";
+import { buildDisplayName, isValidEmail, normalizeEmail } from "../../users/utils.js";
+import { generateUniqueHouseholdInviteCode, isValidInviteCodeFormat } from "../householdInviteCode.js";
 
 const DIOD_EMAIL = "admin@admin.com";
 
 const router = express.Router();
 
-
-function hashInviteToken(token) {
-  return crypto.createHash("sha256").update(token).digest("hex");
-}
-
-async function findActiveInvitationByToken(token) {
-  return Invitation.findOne({
-    tokenHash: hashInviteToken(token),
-    usedAt: null,
-    expiresAt: { $gt: new Date() }
-  });
-}
-
-router.get("/invite/:token", async (req, res) => {
-  try {
-    const { token } = req.params;
-    if (!token) {
-      return res.status(400).json({ ok: false, error: "Token de invitación inválido." });
-    }
-
-    const invitation = await findActiveInvitationByToken(token);
-    if (!invitation) {
-      return res.status(404).json({ ok: false, error: "La invitación no es válida o expiró." });
-    }
-
-    const household = await Household.findById(invitation.householdId).select("name");
-    return res.json({
-      ok: true,
-      role: invitation.role,
-      householdName: household?.name || "",
-      expiresAt: invitation.expiresAt
-    });
-  } catch (error) {
-    return res.status(500).json({ ok: false, error: "No se pudo validar la invitación." });
-  }
-});
-
-
+
+function hashInviteToken(token) {
+  return crypto.createHash("sha256").update(token).digest("hex");
+}
+
+async function findActiveInvitationByToken(token) {
+  return Invitation.findOne({
+    tokenHash: hashInviteToken(token),
+    usedAt: null,
+    expiresAt: { $gt: new Date() }
+  });
+}
+
+router.get("/invite/:token", async (req, res) => {
+  try {
+    const { token } = req.params;
+    if (!token) {
+      return res.status(400).json({ ok: false, error: "Token de invitación inválido." });
+    }
+
+    const invitation = await findActiveInvitationByToken(token);
+    if (!invitation) {
+      return res.status(404).json({ ok: false, error: "La invitación no es válida o expiró." });
+    }
+
+    const household = await Household.findById(invitation.householdId).select("name");
+    return res.json({
+      ok: true,
+      role: invitation.role,
+      householdName: household?.name || "",
+      expiresAt: invitation.expiresAt
+    });
+  } catch (error) {
+    return res.status(500).json({ ok: false, error: "No se pudo validar la invitación." });
+  }
+});
+
+
 router.post("/login", async (req, res) => {
   try {
     const { email, password, username } = req.body;
     const loginValue = normalizeEmail(email || username);
     if (!loginValue || !password) {
       return res.status(400).json({ ok: false, error: "Email y contraseña son obligatorios." });
     }
 
     const user = await KitchenUser.findOne({ email: loginValue });
     if (!user) return res.status(401).json({ ok: false, error: "Credenciales inválidas." });
 
-    if (!user.passwordHash || user.isPlaceholder) {
-      return res.status(401).json({ ok: false, error: "Credenciales inválidas." });
-    }
-
+    if (!user.passwordHash || user.isPlaceholder) {
+      return res.status(401).json({ ok: false, error: "Credenciales inválidas." });
+    }
+
     const ok = await bcrypt.compare(password, user.passwordHash);
     if (!ok) return res.status(401).json({ ok: false, error: "Credenciales inválidas." });
 
     const isDiod = loginValue === DIOD_EMAIL;
     const shouldUpdateGlobalRole = (isDiod && user.globalRole !== "diod") || (!isDiod && user.globalRole);
     if (shouldUpdateGlobalRole) {
       user.globalRole = isDiod ? "diod" : null;
       await user.save();
     }
 
     const token = createToken(user);
     const safeUser = {
       ...user.toSafeJSON(),
       migrationPending: !user.householdId
     };
     return res.json({ ok: true, token, user: safeUser });
   } catch (error) {
     return res.status(500).json({ ok: false, error: "No se pudo iniciar sesión." });
   }
 });
 
-router.post("/accept-invite", async (req, res) => {
-  try {
-    const { token, email, password, displayName } = req.body;
-    const normalizedEmail = normalizeEmail(email);
-
-    if (!token || !normalizedEmail || !password) {
-      return res.status(400).json({
-        ok: false,
-        error: "Token, email y contraseña son obligatorios."
-      });
-    }
-
-    if (String(password).length < 8) {
-      return res.status(400).json({ ok: false, error: "La contraseña debe tener al menos 8 caracteres." });
-    }
-
-    const invitation = await findActiveInvitationByToken(token);
-
-    if (!invitation) {
-      return res.status(400).json({ ok: false, error: "La invitación no es válida o expiró." });
-    }
-
-    let user = await KitchenUser.findOne({ email: normalizedEmail });
-
-    if (user) {
-      if (user.householdId && user.householdId.toString() !== invitation.householdId.toString()) {
-        return res.status(409).json({
-          ok: false,
-          error: "Ese email ya pertenece a otro hogar y no se puede unir con esta invitación."
-        });
-      }
-
-      if (!user.householdId) {
-        user.householdId = invitation.householdId;
-      }
-
-      if (!user.passwordHash || user.isPlaceholder) {
-        if (!displayName || !String(displayName).trim()) {
-          return res.status(400).json({ ok: false, error: "El nombre para mostrar es obligatorio para activar la cuenta." });
-        }
-        user.displayName = String(displayName).trim();
-        user.passwordHash = await bcrypt.hash(password, 10);
-      } else {
-        const passwordOk = await bcrypt.compare(password, user.passwordHash);
-        if (!passwordOk) {
-          return res.status(401).json({ ok: false, error: "Credenciales inválidas." });
-        }
-      }
-
-      if (user.isPlaceholder) {
-        user.isPlaceholder = false;
-        user.claimedAt = new Date();
-      }
-
-      if (displayName && String(displayName).trim()) {
-        user.displayName = String(displayName).trim();
-      }
-
-      user.role = invitation.role || "member";
-      await user.save();
-    } else {
-      if (!displayName || !String(displayName).trim()) {
-        return res.status(400).json({ ok: false, error: "El nombre para mostrar es obligatorio para crear la cuenta." });
-      }
-
-      user = await KitchenUser.create({
-        username: normalizedEmail,
-        email: normalizedEmail,
-        displayName: String(displayName).trim(),
-        passwordHash: await bcrypt.hash(password, 10),
-        role: invitation.role || "member",
-        householdId: invitation.householdId,
-        isPlaceholder: false
-      });
-    }
-
-    invitation.usedAt = new Date();
-    invitation.usedByUserId = user._id;
-    await invitation.save();
-
-    const jwt = createToken(user);
-    return res.json({ ok: true, token: jwt, user: user.toSafeJSON() });
-  } catch (error) {
-    return res.status(500).json({ ok: false, error: "No se pudo aceptar la invitación." });
-  }
-});
-
+
+router.get("/resolve-household/:inviteCode", async (req, res) => {
+  try {
+    const inviteCode = String(req.params.inviteCode || "").trim();
+    if (!isValidInviteCodeFormat(inviteCode)) {
+      return res.status(400).json({ ok: false, error: "El código debe tener 6 dígitos numéricos." });
+    }
+
+    const household = await Household.findOne({ inviteCode }).select("_id name");
+    if (!household) {
+      return res.status(404).json({ ok: false, error: "El código del hogar no es válido." });
+    }
+
+    return res.json({
+      ok: true,
+      household: {
+        id: household._id,
+        name: household.name
+      }
+    });
+  } catch (error) {
+    return res.status(500).json({ ok: false, error: "No se pudo validar el código del hogar." });
+  }
+});
+
+router.post("/register", async (req, res) => {
+  try {
+    const { email, password, displayName, householdName, inviteCode } = req.body;
+    const normalizedEmail = normalizeEmail(email);
+    const safeDisplayName = buildDisplayName({ displayName, name: displayName });
+    const normalizedInviteCode = String(inviteCode || "").trim();
+
+    if (!normalizedEmail || !password || !safeDisplayName) {
+      return res.status(400).json({ ok: false, error: "Nombre, email y contraseña son obligatorios." });
+    }
+
+    if (!isValidEmail(normalizedEmail)) {
+      return res.status(400).json({ ok: false, error: "El email no es válido." });
+    }
+
+    if (String(password).length < 8) {
+      return res.status(400).json({ ok: false, error: "La contraseña debe tener al menos 8 caracteres." });
+    }
+
+    const existingUser = await KitchenUser.findOne({ email: normalizedEmail });
+    if (existingUser) {
+      return res.status(409).json({ ok: false, error: "El email ya está registrado." });
+    }
+
+    const mode = normalizedInviteCode ? "join" : "create";
+    let household = null;
+    let role = "owner";
+
+    if (mode === "join") {
+      if (!isValidInviteCodeFormat(normalizedInviteCode)) {
+        return res.status(400).json({ ok: false, error: "El código debe tener 6 dígitos numéricos." });
+      }
+
+      household = await Household.findOne({ inviteCode: normalizedInviteCode });
+      if (!household) {
+        return res.status(404).json({ ok: false, error: "El código del hogar no es válido." });
+      }
+      role = "member";
+    }
+
+    const user = await KitchenUser.create({
+      username: normalizedEmail,
+      email: normalizedEmail,
+      displayName: safeDisplayName,
+      passwordHash: await bcrypt.hash(password, 10),
+      role,
+      householdId: null,
+      isPlaceholder: false
+    });
+
+    if (mode === "create") {
+      const finalHouseholdName = String(householdName || "").trim() || `${safeDisplayName} - Hogar`;
+      household = await Household.create({
+        name: finalHouseholdName,
+        ownerUserId: user._id,
+        inviteCode: await generateUniqueHouseholdInviteCode()
+      });
+    }
+
+    user.householdId = household._id;
+    await user.save();
+
+    const token = createToken(user);
+    return res.status(201).json({
+      ok: true,
+      token,
+      user: user.toSafeJSON(),
+      household: {
+        id: household._id,
+        name: household.name,
+        inviteCode: household.inviteCode || null
+      }
+    });
+  } catch (error) {
+    if (error?.code === 11000) {
+      return res.status(409).json({ ok: false, error: "No se pudo completar el registro. Intenta nuevamente." });
+    }
+    return res.status(500).json({ ok: false, error: "No se pudo completar el registro." });
+  }
+});
+
+router.post("/accept-invite", async (req, res) => {
+  try {
+    const { token, email, password, displayName } = req.body;
+    const normalizedEmail = normalizeEmail(email);
+
+    if (!token || !normalizedEmail || !password) {
+      return res.status(400).json({
+        ok: false,
+        error: "Token, email y contraseña son obligatorios."
+      });
+    }
+
+    if (String(password).length < 8) {
+      return res.status(400).json({ ok: false, error: "La contraseña debe tener al menos 8 caracteres." });
+    }
+
+    const invitation = await findActiveInvitationByToken(token);
+
+    if (!invitation) {
+      return res.status(400).json({ ok: false, error: "La invitación no es válida o expiró." });
+    }
+
+    let user = await KitchenUser.findOne({ email: normalizedEmail });
+
+    if (user) {
+      if (user.householdId && user.householdId.toString() !== invitation.householdId.toString()) {
+        return res.status(409).json({
+          ok: false,
+          error: "Ese email ya pertenece a otro hogar y no se puede unir con esta invitación."
+        });
+      }
+
+      if (!user.householdId) {
+        user.householdId = invitation.householdId;
+      }
+
+      if (!user.passwordHash || user.isPlaceholder) {
+        if (!displayName || !String(displayName).trim()) {
+          return res.status(400).json({ ok: false, error: "El nombre para mostrar es obligatorio para activar la cuenta." });
+        }
+        user.displayName = String(displayName).trim();
+        user.passwordHash = await bcrypt.hash(password, 10);
+      } else {
+        const passwordOk = await bcrypt.compare(password, user.passwordHash);
+        if (!passwordOk) {
+          return res.status(401).json({ ok: false, error: "Credenciales inválidas." });
+        }
+      }
+
+      if (user.isPlaceholder) {
+        user.isPlaceholder = false;
+        user.claimedAt = new Date();
+      }
+
+      if (displayName && String(displayName).trim()) {
+        user.displayName = String(displayName).trim();
+      }
+
+      user.role = invitation.role || "member";
+      await user.save();
+    } else {
+      if (!displayName || !String(displayName).trim()) {
+        return res.status(400).json({ ok: false, error: "El nombre para mostrar es obligatorio para crear la cuenta." });
+      }
+
+      user = await KitchenUser.create({
+        username: normalizedEmail,
+        email: normalizedEmail,
+        displayName: String(displayName).trim(),
+        passwordHash: await bcrypt.hash(password, 10),
+        role: invitation.role || "member",
+        householdId: invitation.householdId,
+        isPlaceholder: false
+      });
+    }
+
+    invitation.usedAt = new Date();
+    invitation.usedByUserId = user._id;
+    await invitation.save();
+
+    const jwt = createToken(user);
+    return res.json({ ok: true, token: jwt, user: user.toSafeJSON() });
+  } catch (error) {
+    return res.status(500).json({ ok: false, error: "No se pudo aceptar la invitación." });
+  }
+});
+
 router.post("/logout", (req, res) => {
   res.json({ ok: true });
 });
 
 router.get("/me", requireAuth, (req, res) => {
   res.json({
     ok: true,
     user: {
       ...req.kitchenUser.toSafeJSON(),
       migrationPending: !req.kitchenUser.householdId
     },
     auth: req.user
   });
 });
 
 export default router;
diff --git a/backend/src/kitchen/routes/household.js b/backend/src/kitchen/routes/household.js
index 73d57b052e884490785792572d54819054a88f99..83e9b147c48de93b445ab0404f4a0a7e7aa21b6a 100644
--- a/backend/src/kitchen/routes/household.js
+++ b/backend/src/kitchen/routes/household.js
@@ -1,58 +1,93 @@
 import crypto from "crypto";
 import express from "express";
 import bcrypt from "bcryptjs";
 import { Invitation } from "../models/Invitation.js";
 import { KitchenUser } from "../models/KitchenUser.js";
 import { requireAuth, requireRole } from "../middleware.js";
 import { buildScopedFilter, getEffectiveHouseholdId, handleHouseholdError } from "../householdScope.js";
 import { buildDisplayName, isValidEmail, normalizeEmail } from "../../users/utils.js";
-import { config } from "../../config.js";
+import { config } from "../../config.js";
+import { Household } from "../models/Household.js";
+import { ensureHouseholdInviteCode } from "../householdInviteCode.js";
 
 const router = express.Router();
 
 function hashToken(token) {
   return crypto.createHash("sha256").update(token).digest("hex");
 }
 
+
+router.get("/invite-code", requireAuth, requireRole("owner"), async (req, res) => {
+  try {
+    const effectiveHouseholdId = getEffectiveHouseholdId(req.user);
+    const household = await Household.findById(effectiveHouseholdId).select("inviteCode");
+    if (!household) {
+      return res.status(404).json({ ok: false, error: "No encontramos el hogar." });
+    }
+    return res.json({ ok: true, inviteCode: household.inviteCode || null });
+  } catch (error) {
+    const handled = handleHouseholdError(res, error);
+    if (handled) return handled;
+    return res.status(500).json({ ok: false, error: "No se pudo cargar el código del hogar." });
+  }
+});
+
+router.post("/invite-code", requireAuth, requireRole("owner"), async (req, res) => {
+  try {
+    const effectiveHouseholdId = getEffectiveHouseholdId(req.user);
+    const household = await Household.findById(effectiveHouseholdId);
+    if (!household) {
+      return res.status(404).json({ ok: false, error: "No encontramos el hogar." });
+    }
+
+    const inviteCode = await ensureHouseholdInviteCode(household);
+    return res.status(201).json({ ok: true, inviteCode });
+  } catch (error) {
+    const handled = handleHouseholdError(res, error);
+    if (handled) return handled;
+    return res.status(500).json({ ok: false, error: "No se pudo generar el código del hogar." });
+  }
+});
+
 router.post("/invitations", requireAuth, requireRole("owner"), async (req, res) => {
   try {
     const effectiveHouseholdId = getEffectiveHouseholdId(req.user);
     const rawToken = crypto.randomBytes(32).toString("hex");
     const tokenHash = hashToken(rawToken);
     const expiresAt = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);
 
     await Invitation.create({
       householdId: effectiveHouseholdId,
       tokenHash,
       role: "member",
       createdByUserId: req.kitchenUser._id,
       expiresAt
     });
 
-    const frontendBaseUrl = String(config.frontendUrl || "").replace(/\/$/, "");
-    const inviteLink = `${frontendBaseUrl}/invite/${rawToken}`;
+    const frontendBaseUrl = String(config.frontendUrl || "").replace(/\/$/, "");
+    const inviteLink = `${frontendBaseUrl}/invite/${rawToken}`;
     return res.status(201).json({ ok: true, inviteLink, token: rawToken, expiresAt });
   } catch (error) {
     const handled = handleHouseholdError(res, error);
     if (handled) return handled;
     return res.status(500).json({ ok: false, error: "No se pudo crear la invitación." });
   }
 });
 
 router.get("/invitations", requireAuth, requireRole("owner"), async (req, res) => {
   try {
     const effectiveHouseholdId = getEffectiveHouseholdId(req.user);
     const now = new Date();
     const invitations = await Invitation.find(
       buildScopedFilter(effectiveHouseholdId, {
         usedAt: null,
         expiresAt: { $gt: now }
       })
     )
       .sort({ createdAt: -1 })
       .lean();
 
     return res.json({
       ok: true,
       invitations: invitations.map((invitation) => ({
         id: invitation._id,
diff --git a/frontend/src/App.jsx b/frontend/src/App.jsx
index ccbd9d909da438e552f77dc8933b063618c6dcfc..6c8ccc3f85549e02c148ab23e50981d917312605 100644
--- a/frontend/src/App.jsx
+++ b/frontend/src/App.jsx
@@ -1,146 +1,149 @@
-import React, { useEffect } from "react";
-import { BrowserRouter, Route, Routes, useLocation, useNavigate } from "react-router-dom";
-import { AuthProvider, isUserAuthenticated, useAuth } from "./kitchen/auth";
-import { buildApiUrl } from "./kitchen/api.js";
-import KitchenLayout from "./kitchen/Layout.jsx";
-import RequireAuth from "./kitchen/RequireAuth.jsx";
-import AdminUsersPage from "./kitchen/pages/AdminUsersPage.jsx";
-import BootstrapPage from "./kitchen/pages/BootstrapPage.jsx";
-import LoginPage from "./kitchen/pages/LoginPage.jsx";
-import WeekPage from "./kitchen/pages/WeekPage.jsx";
-import DishesPage from "./kitchen/pages/DishesPage.jsx";
-import ShoppingPage from "./kitchen/pages/ShoppingPage.jsx";
-import SwapsPage from "./kitchen/pages/SwapsPage.jsx";
-import SettingsPage from "./kitchen/pages/SettingsPage.jsx";
-import InviteLandingPage from "./kitchen/pages/InviteLandingPage.jsx";
-import "./kitchen/kitchen.css";
-
-function HomeRedirect() {
-  const { user, loading } = useAuth();
-  const navigate = useNavigate();
-
-  useEffect(() => {
-    if (loading) return;
-    const destination = isUserAuthenticated(user) ? "/kitchen/semana" : "/login";
-    navigate(destination, { replace: true });
-  }, [loading, navigate, user]);
-
-  return (
-    <div className="kitchen-app">
-      <div className="kitchen-container" style={{ maxWidth: 520 }}>
-        <div className="kitchen-card">
-          <h2>Cargando Lunchfy...</h2>
-          <p className="kitchen-muted">
-            Estamos preparando tu acceso a Lunchfy. En unos segundos te redirigimos.
-          </p>
-        </div>
-      </div>
-    </div>
-  );
-}
-
-function BootstrapRedirect() {
-  const navigate = useNavigate();
-  const location = useLocation();
-
-  useEffect(() => {
-    let active = true;
-    const checkBootstrap = async () => {
-      try {
-        const response = await fetch(buildApiUrl("/api/users/bootstrap-needed"));
-        const data = await response.json().catch(() => ({}));
-        if (!active || !response.ok) return;
-        if (data.needed && location.pathname !== "/bootstrap") {
-          navigate("/bootstrap", { replace: true });
-        }
-        if (!data.needed && location.pathname === "/bootstrap") {
-          navigate("/login", { replace: true });
-        }
-      } catch {
-        // Sin bloqueo si el backend no responde.
-      }
-    };
-    checkBootstrap();
-    return () => {
-      active = false;
-    };
-  }, [location.pathname, navigate]);
-
-  return null;
-}
-
-export default function App() {
-  return (
-    <BrowserRouter>
-      <AuthProvider>
-        <BootstrapRedirect />
-        <Routes>
-          <Route path="/" element={<HomeRedirect />} />
-          <Route path="/bootstrap" element={<BootstrapPage />} />
-          <Route path="/login" element={<LoginPage />} />
-          <Route path="/kitchen/login" element={<LoginPage />} />
-          <Route path="/invite/:token" element={<InviteLandingPage />} />
-          <Route
-            path="/kitchen/semana"
-            element={(
-              <RequireAuth>
-                <WeekPage />
-              </RequireAuth>
-            )}
-          />
-          <Route
-            path="/kitchen/platos"
-            element={(
-              <RequireAuth>
-                <DishesPage />
-              </RequireAuth>
-            )}
-          />
-          <Route
-            path="/kitchen/compra"
-            element={(
-              <RequireAuth>
-                <ShoppingPage />
-              </RequireAuth>
-            )}
-          />
-          <Route
-            path="/kitchen/cambios"
-            element={(
-              <RequireAuth>
-                <SwapsPage />
-              </RequireAuth>
-            )}
-          />
-          <Route
-            path="/kitchen/configuracion"
-            element={(
-              <RequireAuth>
-                <SettingsPage />
-              </RequireAuth>
-            )}
-          />
-          <Route
-            path="/admin/usuarios"
-            element={(
-              <RequireAuth roles={["admin"]}>
-                <AdminUsersPage />
-              </RequireAuth>
-            )}
-          />
-          <Route
-            path="/kitchen"
-            element={(
-              <RequireAuth>
-                <KitchenLayout>
-                  <div className="kitchen-card">Selecciona una sección.</div>
-                </KitchenLayout>
-              </RequireAuth>
-            )}
-          />
-          <Route path="*" element={<HomeRedirect />} />
-        </Routes>
-      </AuthProvider>
-    </BrowserRouter>
-  );
-}
+import React, { useEffect } from "react";
+import { BrowserRouter, Route, Routes, useLocation, useNavigate } from "react-router-dom";
+import { AuthProvider, isUserAuthenticated, useAuth } from "./kitchen/auth";
+import { buildApiUrl } from "./kitchen/api.js";
+import KitchenLayout from "./kitchen/Layout.jsx";
+import RequireAuth from "./kitchen/RequireAuth.jsx";
+import AdminUsersPage from "./kitchen/pages/AdminUsersPage.jsx";
+import BootstrapPage from "./kitchen/pages/BootstrapPage.jsx";
+import LoginPage from "./kitchen/pages/LoginPage.jsx";
+import SignupPage from "./kitchen/pages/SignupPage.jsx";
+import WeekPage from "./kitchen/pages/WeekPage.jsx";
+import DishesPage from "./kitchen/pages/DishesPage.jsx";
+import ShoppingPage from "./kitchen/pages/ShoppingPage.jsx";
+import SwapsPage from "./kitchen/pages/SwapsPage.jsx";
+import SettingsPage from "./kitchen/pages/SettingsPage.jsx";
+import InviteLandingPage from "./kitchen/pages/InviteLandingPage.jsx";
+import "./kitchen/kitchen.css";
+
+function HomeRedirect() {
+  const { user, loading } = useAuth();
+  const navigate = useNavigate();
+
+  useEffect(() => {
+    if (loading) return;
+    const destination = isUserAuthenticated(user) ? "/kitchen/semana" : "/login";
+    navigate(destination, { replace: true });
+  }, [loading, navigate, user]);
+
+  return (
+    <div className="kitchen-app">
+      <div className="kitchen-container" style={{ maxWidth: 520 }}>
+        <div className="kitchen-card">
+          <h2>Cargando Lunchfy...</h2>
+          <p className="kitchen-muted">
+            Estamos preparando tu acceso a Lunchfy. En unos segundos te redirigimos.
+          </p>
+        </div>
+      </div>
+    </div>
+  );
+}
+
+function BootstrapRedirect() {
+  const navigate = useNavigate();
+  const location = useLocation();
+
+  useEffect(() => {
+    let active = true;
+    const checkBootstrap = async () => {
+      try {
+        const response = await fetch(buildApiUrl("/api/users/bootstrap-needed"));
+        const data = await response.json().catch(() => ({}));
+        if (!active || !response.ok) return;
+        if (data.needed && location.pathname !== "/bootstrap") {
+          navigate("/bootstrap", { replace: true });
+        }
+        if (!data.needed && location.pathname === "/bootstrap") {
+          navigate("/login", { replace: true });
+        }
+      } catch {
+        // Sin bloqueo si el backend no responde.
+      }
+    };
+    checkBootstrap();
+    return () => {
+      active = false;
+    };
+  }, [location.pathname, navigate]);
+
+  return null;
+}
+
+export default function App() {
+  return (
+    <BrowserRouter>
+      <AuthProvider>
+        <BootstrapRedirect />
+        <Routes>
+          <Route path="/" element={<HomeRedirect />} />
+          <Route path="/bootstrap" element={<BootstrapPage />} />
+          <Route path="/login" element={<LoginPage />} />
+          <Route path="/kitchen/login" element={<LoginPage />} />
+          <Route path="/register" element={<SignupPage />} />
+          <Route path="/kitchen/register" element={<SignupPage />} />
+          <Route path="/invite/:token" element={<InviteLandingPage />} />
+          <Route
+            path="/kitchen/semana"
+            element={(
+              <RequireAuth>
+                <WeekPage />
+              </RequireAuth>
+            )}
+          />
+          <Route
+            path="/kitchen/platos"
+            element={(
+              <RequireAuth>
+                <DishesPage />
+              </RequireAuth>
+            )}
+          />
+          <Route
+            path="/kitchen/compra"
+            element={(
+              <RequireAuth>
+                <ShoppingPage />
+              </RequireAuth>
+            )}
+          />
+          <Route
+            path="/kitchen/cambios"
+            element={(
+              <RequireAuth>
+                <SwapsPage />
+              </RequireAuth>
+            )}
+          />
+          <Route
+            path="/kitchen/configuracion"
+            element={(
+              <RequireAuth>
+                <SettingsPage />
+              </RequireAuth>
+            )}
+          />
+          <Route
+            path="/admin/usuarios"
+            element={(
+              <RequireAuth roles={["admin"]}>
+                <AdminUsersPage />
+              </RequireAuth>
+            )}
+          />
+          <Route
+            path="/kitchen"
+            element={(
+              <RequireAuth>
+                <KitchenLayout>
+                  <div className="kitchen-card">Selecciona una sección.</div>
+                </KitchenLayout>
+              </RequireAuth>
+            )}
+          />
+          <Route path="*" element={<HomeRedirect />} />
+        </Routes>
+      </AuthProvider>
+    </BrowserRouter>
+  );
+}
diff --git a/frontend/src/kitchen/pages/LoginPage.jsx b/frontend/src/kitchen/pages/LoginPage.jsx
index 5f27228bb02e58235009fc58eb57416fdbebf861..a6d02a3733c72dad2e46742fd647ff1a4511103c 100644
--- a/frontend/src/kitchen/pages/LoginPage.jsx
+++ b/frontend/src/kitchen/pages/LoginPage.jsx
@@ -1,120 +1,120 @@
 import React, { useState } from "react";
 import { useNavigate } from "react-router-dom";
 import { useAuth } from "../auth";
-import Card from "../components/ui/Card";
-import lunchfyIcon from "../../assets/brand/Lunchfy_icon.png";
+import Card from "../components/ui/Card";
+import lunchfyIcon from "../../assets/brand/Lunchfy_icon.png";
 
 export default function LoginPage() {
   const { login } = useAuth();
   const navigate = useNavigate();
-  const [form, setForm] = useState({ email: "", password: "" });
+  const [form, setForm] = useState({ email: "", password: "" });
   const [error, setError] = useState("");
   const [loading, setLoading] = useState(false);
 
   const onSubmit = async (event) => {
     event.preventDefault();
     setError("");
     setLoading(true);
     try {
-      await login(form.email, form.password);
-      navigate("/kitchen/semana", { replace: true });
+      await login(form.email, form.password);
+      navigate("/kitchen/semana", { replace: true });
     } catch (err) {
       setError(err.message || "No se pudo iniciar sesión.");
     } finally {
       setLoading(false);
     }
   };
 
   return (
     <div className="kitchen-app">
-      <div className="kitchen-container kitchen-login-wrap">
-        <Card className="kitchen-login-card">
-          <p className="kitchen-login-brand">Lunchfy</p>
-          <div className="kitchen-login-badge" aria-hidden="true">
-            <div className="kitchen-login-badge-icon">
-              <img className="kitchen-login-icon" src={lunchfyIcon} alt="" />
-            </div>
-          </div>
-          <h2 className="kitchen-login-title">¡Bienvenido de nuevo!</h2>
-          <p className="kitchen-login-subtitle">Hay planes deliciosos esperándote.</p>
-          <form onSubmit={onSubmit} className="kitchen-login-form">
-            <div className="kitchen-login-fields">
-              <label className="kitchen-ui-input-group" htmlFor="login-email">
-                <span className="kitchen-login-label">CORREO ELECTRÓNICO</span>
-                <div className="kitchen-login-input-wrap">
-                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-input-icon">
-                    <path d="M3.5 7.5h17v9h-17z" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinejoin="round" />
-                    <path d="m4.5 8.5 7.5 5 7.5-5" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinecap="round" strokeLinejoin="round" />
-                  </svg>
-                  <input
-                    id="login-email"
-                    className="kitchen-ui-input kitchen-login-input"
-                    type="email"
-                    value={form.email}
-                    onChange={(event) => setForm({ ...form, email: event.target.value })}
-                    placeholder="tunombre@email.com"
-                    required
-                  />
-                </div>
-              </label>
-              <label className="kitchen-ui-input-group" htmlFor="login-password">
-                <span className="kitchen-login-label">CONTRASEÑA</span>
-                <div className="kitchen-login-input-wrap">
-                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-input-icon">
-                    <path d="M7.5 11V8a4.5 4.5 0 0 1 9 0v3" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinecap="round" strokeLinejoin="round" />
-                    <rect x="5" y="11" width="14" height="10" rx="2" fill="none" stroke="currentColor" strokeWidth="1.7" />
-                  </svg>
-                  <input
-                    id="login-password"
-                    className="kitchen-ui-input kitchen-login-input kitchen-login-password-input"
-                    type="password"
-                    value={form.password}
-                    onChange={(event) => setForm({ ...form, password: event.target.value })}
-                    placeholder="••••••••"
-                    required
-                  />
-                  <button type="button" className="kitchen-login-eye" aria-label="Mostrar contraseña">
-                    <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-input-icon">
-                      <path d="M2.5 12s3.5-6 9.5-6 9.5 6 9.5 6-3.5 6-9.5 6-9.5-6-9.5-6Z" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinecap="round" strokeLinejoin="round" />
-                      <circle cx="12" cy="12" r="2.8" fill="none" stroke="currentColor" strokeWidth="1.7" />
-                    </svg>
-                  </button>
-                </div>
-              </label>
-              <div className="kitchen-login-forgot-row">
-                <button type="button" className="kitchen-login-link">¿Olvidaste tu contraseña?</button>
-              </div>
-            </div>
-            {error ? <div className="kitchen-login-error">{error}</div> : null}
-            <button type="submit" className="kitchen-ui-button kitchen-login-submit" disabled={loading}>
-              {loading ? "Entrando..." : "Iniciar sesión →"}
-            </button>
-            <div className="kitchen-login-divider">O CONTINUAR CON</div>
-            <div className="kitchen-login-socials">
-              <button type="button" className="kitchen-login-social-button">
-                <span className="kitchen-login-social-icon" aria-hidden="true">
-                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-social-svg kitchen-login-social-svg-google">
-                    <path fill="#EA4335" d="M12.24 10.28v3.92h5.52c-.24 1.26-.96 2.33-2.04 3.04l3.3 2.56c1.92-1.77 3.03-4.37 3.03-7.44 0-.71-.06-1.4-.18-2.08h-9.63z" />
-                    <path fill="#34A853" d="M12 22c2.76 0 5.08-.91 6.78-2.46l-3.3-2.56c-.92.62-2.1.99-3.48.99-2.68 0-4.94-1.81-5.75-4.24H2.84v2.66A10 10 0 0 0 12 22z" />
-                    <path fill="#4A90E2" d="M6.25 13.73a5.96 5.96 0 0 1 0-3.8V7.27H2.84a10 10 0 0 0 0 9.12l3.41-2.66z" />
-                    <path fill="#FBBC05" d="M12 5.98c1.5 0 2.85.51 3.91 1.52l2.93-2.93C17.08 2.93 14.76 2 12 2a10 10 0 0 0-9.16 5.27l3.41 2.66c.8-2.43 3.07-4.24 5.75-4.24z" />
-                  </svg>
-                </span>
-                Google
-              </button>
-              <button type="button" className="kitchen-login-social-button">
-                <span className="kitchen-login-social-icon" aria-hidden="true">
-                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-social-svg kitchen-login-social-svg-apple">
-                    <path fill="currentColor" d="M16.74 12.48c.03 3.26 2.86 4.35 2.89 4.36-.02.08-.45 1.56-1.47 3.08-.89 1.32-1.81 2.64-3.27 2.67-1.44.03-1.9-.86-3.54-.86-1.65 0-2.16.83-3.51.89-1.41.05-2.49-1.41-3.39-2.73-1.84-2.67-3.25-7.56-1.36-10.86.94-1.64 2.62-2.68 4.43-2.7 1.38-.03 2.68.93 3.52.93.84 0 2.42-1.15 4.08-.98.69.03 2.63.28 3.88 2.1-.1.06-2.31 1.35-2.26 4.1ZM14.67 4.91c.75-.91 1.25-2.16 1.11-3.41-1.08.04-2.38.72-3.16 1.63-.69.8-1.3 2.09-1.13 3.31 1.21.09 2.43-.62 3.18-1.53Z" />
-                  </svg>
-                </span>
-                Apple
-              </button>
-            </div>
+      <div className="kitchen-container kitchen-login-wrap">
+        <Card className="kitchen-login-card">
+          <p className="kitchen-login-brand">Lunchfy</p>
+          <div className="kitchen-login-badge" aria-hidden="true">
+            <div className="kitchen-login-badge-icon">
+              <img className="kitchen-login-icon" src={lunchfyIcon} alt="" />
+            </div>
+          </div>
+          <h2 className="kitchen-login-title">¡Bienvenido de nuevo!</h2>
+          <p className="kitchen-login-subtitle">Hay planes deliciosos esperándote.</p>
+          <form onSubmit={onSubmit} className="kitchen-login-form">
+            <div className="kitchen-login-fields">
+              <label className="kitchen-ui-input-group" htmlFor="login-email">
+                <span className="kitchen-login-label">CORREO ELECTRÓNICO</span>
+                <div className="kitchen-login-input-wrap">
+                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-input-icon">
+                    <path d="M3.5 7.5h17v9h-17z" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinejoin="round" />
+                    <path d="m4.5 8.5 7.5 5 7.5-5" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinecap="round" strokeLinejoin="round" />
+                  </svg>
+                  <input
+                    id="login-email"
+                    className="kitchen-ui-input kitchen-login-input"
+                    type="email"
+                    value={form.email}
+                    onChange={(event) => setForm({ ...form, email: event.target.value })}
+                    placeholder="tunombre@email.com"
+                    required
+                  />
+                </div>
+              </label>
+              <label className="kitchen-ui-input-group" htmlFor="login-password">
+                <span className="kitchen-login-label">CONTRASEÑA</span>
+                <div className="kitchen-login-input-wrap">
+                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-input-icon">
+                    <path d="M7.5 11V8a4.5 4.5 0 0 1 9 0v3" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinecap="round" strokeLinejoin="round" />
+                    <rect x="5" y="11" width="14" height="10" rx="2" fill="none" stroke="currentColor" strokeWidth="1.7" />
+                  </svg>
+                  <input
+                    id="login-password"
+                    className="kitchen-ui-input kitchen-login-input kitchen-login-password-input"
+                    type="password"
+                    value={form.password}
+                    onChange={(event) => setForm({ ...form, password: event.target.value })}
+                    placeholder="••••••••"
+                    required
+                  />
+                  <button type="button" className="kitchen-login-eye" aria-label="Mostrar contraseña">
+                    <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-input-icon">
+                      <path d="M2.5 12s3.5-6 9.5-6 9.5 6 9.5 6-3.5 6-9.5 6-9.5-6-9.5-6Z" fill="none" stroke="currentColor" strokeWidth="1.7" strokeLinecap="round" strokeLinejoin="round" />
+                      <circle cx="12" cy="12" r="2.8" fill="none" stroke="currentColor" strokeWidth="1.7" />
+                    </svg>
+                  </button>
+                </div>
+              </label>
+              <div className="kitchen-login-forgot-row">
+                <button type="button" className="kitchen-login-link">¿Olvidaste tu contraseña?</button>
+              </div>
+            </div>
+            {error ? <div className="kitchen-login-error">{error}</div> : null}
+            <button type="submit" className="kitchen-ui-button kitchen-login-submit" disabled={loading}>
+              {loading ? "Entrando..." : "Iniciar sesión →"}
+            </button>
+            <div className="kitchen-login-divider">O CONTINUAR CON</div>
+            <div className="kitchen-login-socials">
+              <button type="button" className="kitchen-login-social-button">
+                <span className="kitchen-login-social-icon" aria-hidden="true">
+                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-social-svg kitchen-login-social-svg-google">
+                    <path fill="#EA4335" d="M12.24 10.28v3.92h5.52c-.24 1.26-.96 2.33-2.04 3.04l3.3 2.56c1.92-1.77 3.03-4.37 3.03-7.44 0-.71-.06-1.4-.18-2.08h-9.63z" />
+                    <path fill="#34A853" d="M12 22c2.76 0 5.08-.91 6.78-2.46l-3.3-2.56c-.92.62-2.1.99-3.48.99-2.68 0-4.94-1.81-5.75-4.24H2.84v2.66A10 10 0 0 0 12 22z" />
+                    <path fill="#4A90E2" d="M6.25 13.73a5.96 5.96 0 0 1 0-3.8V7.27H2.84a10 10 0 0 0 0 9.12l3.41-2.66z" />
+                    <path fill="#FBBC05" d="M12 5.98c1.5 0 2.85.51 3.91 1.52l2.93-2.93C17.08 2.93 14.76 2 12 2a10 10 0 0 0-9.16 5.27l3.41 2.66c.8-2.43 3.07-4.24 5.75-4.24z" />
+                  </svg>
+                </span>
+                Google
+              </button>
+              <button type="button" className="kitchen-login-social-button">
+                <span className="kitchen-login-social-icon" aria-hidden="true">
+                  <svg viewBox="0 0 24 24" role="presentation" className="kitchen-login-social-svg kitchen-login-social-svg-apple">
+                    <path fill="currentColor" d="M16.74 12.48c.03 3.26 2.86 4.35 2.89 4.36-.02.08-.45 1.56-1.47 3.08-.89 1.32-1.81 2.64-3.27 2.67-1.44.03-1.9-.86-3.54-.86-1.65 0-2.16.83-3.51.89-1.41.05-2.49-1.41-3.39-2.73-1.84-2.67-3.25-7.56-1.36-10.86.94-1.64 2.62-2.68 4.43-2.7 1.38-.03 2.68.93 3.52.93.84 0 2.42-1.15 4.08-.98.69.03 2.63.28 3.88 2.1-.1.06-2.31 1.35-2.26 4.1ZM14.67 4.91c.75-.91 1.25-2.16 1.11-3.41-1.08.04-2.38.72-3.16 1.63-.69.8-1.3 2.09-1.13 3.31 1.21.09 2.43-.62 3.18-1.53Z" />
+                  </svg>
+                </span>
+                Apple
+              </button>
+            </div>
           </form>
-          <p className="kitchen-login-footer">¿No tienes cuenta? <button type="button" className="kitchen-login-link">Regístrate</button></p>
-        </Card>
+          <p className="kitchen-login-footer">¿No tienes cuenta? <button type="button" className="kitchen-login-link" onClick={() => navigate("/register")}>Regístrate</button></p>
+        </Card>
       </div>
     </div>
   );
 }
diff --git a/frontend/src/kitchen/pages/SettingsPage.jsx b/frontend/src/kitchen/pages/SettingsPage.jsx
index 8898cdf47db978cd04731781817360987e917915..ed2fff264c8fe84c72ea9fe7eda9ea33b839e2fd 100644
--- a/frontend/src/kitchen/pages/SettingsPage.jsx
+++ b/frontend/src/kitchen/pages/SettingsPage.jsx
@@ -1,167 +1,212 @@
-import React, { useEffect, useState } from "react";
-import { useNavigate } from "react-router-dom";
+import React, { useEffect, useState } from "react";
+import { useNavigate } from "react-router-dom";
 import KitchenLayout from "../Layout.jsx";
-import { useAuth } from "../auth";
-import { apiRequest } from "../api.js";
+import { useAuth } from "../auth";
+import { apiRequest } from "../api.js";
 
 export default function SettingsPage() {
-  const { user, logout } = useAuth();
-  const navigate = useNavigate();
-  const [members, setMembers] = useState([]);
-  const [invitations, setInvitations] = useState([]);
-  const [inviteLink, setInviteLink] = useState("");
-  const [placeholderName, setPlaceholderName] = useState("");
-  const [loading, setLoading] = useState(true);
-  const [error, setError] = useState("");
-  const [success, setSuccess] = useState("");
-
-  const isOwner = user?.role === "owner" || user?.role === "admin";
-
-  const loadData = async () => {
-    setLoading(true);
-    setError("");
-    try {
-      const membersResponse = await apiRequest("/api/kitchen/users/members");
-      setMembers(membersResponse.users || []);
-
-      if (isOwner) {
-        const inviteResponse = await apiRequest("/api/kitchen/household/invitations");
-        setInvitations(inviteResponse.invitations || []);
-      }
-    } catch (err) {
-      setError(err.message || "No se pudo cargar la configuración del hogar.");
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  useEffect(() => {
-    void loadData();
-  }, [isOwner]);
-
-  const handleLogout = async () => {
-    try {
-      await logout();
-    } finally {
-      navigate("/login", { replace: true });
-    }
-  };
-
-  const generateInvite = async () => {
-    setError("");
-    setSuccess("");
-    try {
-      const data = await apiRequest("/api/kitchen/household/invitations", { method: "POST" });
-      setInviteLink(data.inviteLink || "");
-      setSuccess("Enlace de invitación generado correctamente.");
-      await loadData();
-    } catch (err) {
-      setError(err.message || "No se pudo generar la invitación.");
-    }
-  };
-
-  const copyInvite = async () => {
-    if (!inviteLink) return;
-    try {
-      await navigator.clipboard.writeText(inviteLink);
-      setSuccess("Enlace copiado al portapapeles.");
-    } catch {
-      setError("No pudimos copiar el enlace automáticamente.");
-    }
-  };
-
-  const createPlaceholder = async () => {
-    const safeName = placeholderName.trim();
-    if (!safeName) {
-      setError("Debes indicar un nombre para el comensal.");
-      return;
-    }
-
-    setError("");
-    setSuccess("");
-    try {
-      await apiRequest("/api/kitchen/household/placeholders", {
-        method: "POST",
-        body: JSON.stringify({ displayName: safeName })
-      });
-      setPlaceholderName("");
-      setSuccess("Comensal sin cuenta creado correctamente.");
-      await loadData();
-    } catch (err) {
-      setError(err.message || "No se pudo crear el comensal.");
-    }
-  };
-
+  const { user, logout } = useAuth();
+  const navigate = useNavigate();
+  const [members, setMembers] = useState([]);
+  const [invitations, setInvitations] = useState([]);
+  const [inviteLink, setInviteLink] = useState("");
+  const [householdCode, setHouseholdCode] = useState("");
+  const [placeholderName, setPlaceholderName] = useState("");
+  const [loading, setLoading] = useState(true);
+  const [error, setError] = useState("");
+  const [success, setSuccess] = useState("");
+
+  const isOwner = user?.role === "owner" || user?.role === "admin";
+
+  const loadData = async () => {
+    setLoading(true);
+    setError("");
+    try {
+      const membersResponse = await apiRequest("/api/kitchen/users/members");
+      setMembers(membersResponse.users || []);
+
+      if (isOwner) {
+        const [inviteResponse, codeResponse] = await Promise.all([
+          apiRequest("/api/kitchen/household/invitations"),
+          apiRequest("/api/kitchen/household/invite-code")
+        ]);
+        setInvitations(inviteResponse.invitations || []);
+        setHouseholdCode(codeResponse.inviteCode || "");
+      }
+    } catch (err) {
+      setError(err.message || "No se pudo cargar la configuración del hogar.");
+    } finally {
+      setLoading(false);
+    }
+  };
+
+  useEffect(() => {
+    void loadData();
+  }, [isOwner]);
+
+  const handleLogout = async () => {
+    try {
+      await logout();
+    } finally {
+      navigate("/login", { replace: true });
+    }
+  };
+
+  const generateInvite = async () => {
+    setError("");
+    setSuccess("");
+    try {
+      const data = await apiRequest("/api/kitchen/household/invitations", { method: "POST" });
+      setInviteLink(data.inviteLink || "");
+      setSuccess("Enlace de invitación generado correctamente.");
+      await loadData();
+    } catch (err) {
+      setError(err.message || "No se pudo generar la invitación.");
+    }
+  };
+
+  const copyInvite = async () => {
+    if (!inviteLink) return;
+    try {
+      await navigator.clipboard.writeText(inviteLink);
+      setSuccess("Enlace copiado al portapapeles.");
+    } catch {
+      setError("No pudimos copiar el enlace automáticamente.");
+    }
+  };
+
+
+  const generateHouseholdCode = async () => {
+    setError("");
+    setSuccess("");
+    try {
+      const data = await apiRequest("/api/kitchen/household/invite-code", { method: "POST" });
+      setHouseholdCode(data.inviteCode || "");
+      setSuccess("Código de hogar generado correctamente.");
+    } catch (err) {
+      setError(err.message || "No se pudo generar el código del hogar.");
+    }
+  };
+
+  const copyHouseholdCode = async () => {
+    if (!householdCode) return;
+    try {
+      await navigator.clipboard.writeText(householdCode);
+      setSuccess("Código copiado al portapapeles.");
+    } catch {
+      setError("No pudimos copiar el código automáticamente.");
+    }
+  };
+
+  const createPlaceholder = async () => {
+    const safeName = placeholderName.trim();
+    if (!safeName) {
+      setError("Debes indicar un nombre para el comensal.");
+      return;
+    }
+
+    setError("");
+    setSuccess("");
+    try {
+      await apiRequest("/api/kitchen/household/placeholders", {
+        method: "POST",
+        body: JSON.stringify({ displayName: safeName })
+      });
+      setPlaceholderName("");
+      setSuccess("Comensal sin cuenta creado correctamente.");
+      await loadData();
+    } catch (err) {
+      setError(err.message || "No se pudo crear el comensal.");
+    }
+  };
+
   return (
     <KitchenLayout>
-      <div className="kitchen-card kitchen-block-gap">
+      <div className="kitchen-card kitchen-block-gap">
         <h2>Configuración</h2>
-        <p className="kitchen-muted">Gestiona tu hogar y tus miembros.</p>
-        {error ? <div className="kitchen-alert error">{error}</div> : null}
-        {success ? <div className="kitchen-alert success">{success}</div> : null}
-
-        <h3>Mi Hogar</h3>
-        {loading ? <p className="kitchen-muted">Cargando miembros...</p> : null}
-        {!loading ? (
-          <ul className="kitchen-list">
-            {members.map((member) => (
-              <li key={member.id}>
-                <strong>{member.displayName}</strong>{" "}
-                {member.isPlaceholder ? "(comensal sin cuenta)" : member.email ? `(${member.email})` : ""}
-              </li>
-            ))}
-            {members.length === 0 ? <li className="kitchen-muted">Todavía no hay miembros.</li> : null}
-          </ul>
-        ) : null}
-
-        {isOwner ? (
-          <>
-            <h3>Invitar</h3>
-            <div className="kitchen-actions">
-              <button type="button" className="kitchen-button" onClick={generateInvite}>
-                Generar enlace
-              </button>
-              <button
-                type="button"
-                className="kitchen-button secondary"
-                onClick={copyInvite}
-                disabled={!inviteLink}
-              >
-                Copiar
-              </button>
-            </div>
-            {inviteLink ? <p className="kitchen-muted">{inviteLink}</p> : null}
-
-            {invitations.length > 0 ? (
-              <ul className="kitchen-list">
-                {invitations.map((invitation) => (
-                  <li key={invitation.id}>
-                    Invitación activa hasta {new Date(invitation.expiresAt).toLocaleString()}
-                  </li>
-                ))}
-              </ul>
-            ) : null}
-
-            <h3>Añadir comensal (sin cuenta)</h3>
-            <div className="kitchen-actions">
-              <input
-                type="text"
-                className="kitchen-input"
-                placeholder="Nombre del comensal"
-                value={placeholderName}
-                onChange={(event) => setPlaceholderName(event.target.value)}
-              />
-              <button type="button" className="kitchen-button secondary" onClick={createPlaceholder}>
-                Añadir comensal sin cuenta
-              </button>
-            </div>
-          </>
-        ) : null}
-
-        <button type="button" className="kitchen-button secondary" onClick={handleLogout}>
-          Cerrar sesión
-        </button>
+        <p className="kitchen-muted">Gestiona tu hogar y tus miembros.</p>
+        {error ? <div className="kitchen-alert error">{error}</div> : null}
+        {success ? <div className="kitchen-alert success">{success}</div> : null}
+
+        <h3>Mi Hogar</h3>
+        {loading ? <p className="kitchen-muted">Cargando miembros...</p> : null}
+        {!loading ? (
+          <ul className="kitchen-list">
+            {members.map((member) => (
+              <li key={member.id}>
+                <strong>{member.displayName}</strong>{" "}
+                {member.isPlaceholder ? "(comensal sin cuenta)" : member.email ? `(${member.email})` : ""}
+              </li>
+            ))}
+            {members.length === 0 ? <li className="kitchen-muted">Todavía no hay miembros.</li> : null}
+          </ul>
+        ) : null}
+
+        {isOwner ? (
+          <>
+            <h3>Invitar miembros</h3>
+            <div className="kitchen-actions">
+              <button
+                type="button"
+                className="kitchen-button secondary"
+                onClick={copyHouseholdCode}
+                disabled={!householdCode}
+              >
+                Copiar código
+              </button>
+              <button type="button" className="kitchen-button" onClick={generateHouseholdCode}>
+                {householdCode ? "Regenerar código" : "Generar código"}
+              </button>
+            </div>
+            <p className="kitchen-muted">
+              Código del hogar: <strong>{householdCode || "No generado"}</strong>
+            </p>
+
+            <div className="kitchen-actions">
+              <button type="button" className="kitchen-button" onClick={generateInvite}>
+                Generar enlace
+              </button>
+              <button
+                type="button"
+                className="kitchen-button secondary"
+                onClick={copyInvite}
+                disabled={!inviteLink}
+              >
+                Copiar enlace
+              </button>
+            </div>
+            {inviteLink ? <p className="kitchen-muted">{inviteLink}</p> : null}
+
+            {invitations.length > 0 ? (
+              <ul className="kitchen-list">
+                {invitations.map((invitation) => (
+                  <li key={invitation.id}>
+                    Invitación activa hasta {new Date(invitation.expiresAt).toLocaleString()}
+                  </li>
+                ))}
+              </ul>
+            ) : null}
+
+            <h3>Añadir comensal (sin cuenta)</h3>
+            <div className="kitchen-actions">
+              <input
+                type="text"
+                className="kitchen-input"
+                placeholder="Nombre del comensal"
+                value={placeholderName}
+                onChange={(event) => setPlaceholderName(event.target.value)}
+              />
+              <button type="button" className="kitchen-button secondary" onClick={createPlaceholder}>
+                Añadir comensal sin cuenta
+              </button>
+            </div>
+          </>
+        ) : null}
+
+        <button type="button" className="kitchen-button secondary" onClick={handleLogout}>
+          Cerrar sesión
+        </button>
       </div>
     </KitchenLayout>
   );
 }
