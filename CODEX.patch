diff --git a/frontend/src/kitchen/pages/WeekPage.jsx b/frontend/src/kitchen/pages/WeekPage.jsx
index a5815a06e4199bc7f97eac9682ed7e958428bc77..1ac203a05ec9b984c17b9821388c198e1c00ac1c 100644
--- a/frontend/src/kitchen/pages/WeekPage.jsx
+++ b/frontend/src/kitchen/pages/WeekPage.jsx
@@ -1,27 +1,27 @@
-import React, { useCallback, useEffect, useMemo, useRef, useState } from "react";
-import { useSearchParams } from "react-router-dom";
+import React, { useCallback, useEffect, useMemo, useRef, useState } from "react";
+import { useSearchParams } from "react-router-dom";
 import { apiRequest } from "../api.js";
 import { useAuth } from "../auth";
 import WeekDaysStrip from "../components/WeekDaysStrip.jsx";
 import IngredientPicker from "../components/IngredientPicker.jsx";
 import DishModal from "../components/DishModal.jsx";
 import KitchenLayout from "../Layout.jsx";
 import { normalizeIngredientName } from "../utils/normalize.js";
 import { getUserColor } from "../utils/userColors";
 
 function getMondayISO(date = new Date()) {
   const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
   const day = d.getUTCDay();
   const diff = (day === 0 ? -6 : 1) - day;
   d.setUTCDate(d.getUTCDate() + diff);
   return d.toISOString().slice(0, 10);
 }
 
 function formatDateLabel(dateString) {
   if (!dateString) {
     return "Sin fecha";
   }
   const date = new Date(dateString);
   if (Number.isNaN(date.getTime())) {
     return "Sin fecha";
   }
@@ -88,53 +88,53 @@ export default function WeekPage() {
   const [dayErrors, setDayErrors] = useState({});
   const [extraIngredientsByDay, setExtraIngredientsByDay] = useState({});
   const [extraIngredientsEnabled, setExtraIngredientsEnabled] = useState({});
   const [selectedDay, setSelectedDay] = useState("");
   const [editingDays, setEditingDays] = useState({});
   const [sideDishEnabled, setSideDishEnabled] = useState({});
   const [showCarouselControls, setShowCarouselControls] = useState(false);
   const [activeIndex, setActiveIndex] = useState(0);
   const [mainDishQueries, setMainDishQueries] = useState({});
   const [mainDishOpen, setMainDishOpen] = useState({});
   const [sideDishQueries, setSideDishQueries] = useState({});
   const [sideDishOpen, setSideDishOpen] = useState({});
   const [assigneeOpen, setAssigneeOpen] = useState({});
   const [dishModalOpen, setDishModalOpen] = useState(false);
   const [dishModalName, setDishModalName] = useState("");
   const [dishModalDayKey, setDishModalDayKey] = useState(null);
   const [dishModalMode, setDishModalMode] = useState("main");
   const [dishModalSidedish, setDishModalSidedish] = useState(false);
   const ingredientCache = useRef(new Map());
   const saveTimers = useRef({});
   const carouselRef = useRef(null);
   const dayRefs = useRef(new Map());
   const mainDishRefs = useRef(new Map());
   const sideDishRefs = useRef(new Map());
   const selectedDayRef = useRef(selectedDay);
-  const hasInitializedRef = useRef(false);
-  const assignIntentRef = useRef(null);
-  const safeDays = useMemo(() => (Array.isArray(plan?.days) ? plan.days : []), [plan]);
+  const hasInitializedRef = useRef(false);
+  const assignIntentRef = useRef(null);
+  const safeDays = useMemo(() => (Array.isArray(plan?.days) ? plan.days : []), [plan]);
 
   const loadData = async () => {
     setLoading(true);
     setLoadError("");
     try {
       const [planData, dishesData, sideDishesData] = await Promise.all([
         apiRequest(`/api/kitchen/weeks/${weekStart}`),
         apiRequest("/api/kitchen/dishes"),
         apiRequest("/api/kitchen/dishes?sidedish=true")
       ]);
       setPlan(planData.plan);
       setDishes(dishesData.dishes || []);
       setSideDishes(sideDishesData.dishes || []);
       if (user) {
         const usersEndpoint = user?.role === "admin" ? "/api/kitchen/users" : "/api/kitchen/users/members";
         const usersData = await apiRequest(usersEndpoint);
         setUsers(usersData.users || []);
       }
     } catch (err) {
       setLoadError(err.message || "No se pudo cargar la semana.");
     } finally {
       setLoading(false);
     }
   };
 
@@ -398,127 +398,153 @@ export default function WeekPage() {
     setExtraIngredientsEnabled((prev) => ({
       ...prev,
       [dayKey]: Boolean(day.ingredientOverrides?.length)
     }));
     setMainDishQueries((prev) => ({ ...prev, [dayKey]: dishName || "" }));
     setMainDishOpen((prev) => ({ ...prev, [dayKey]: false }));
     setSideDishQueries((prev) => ({ ...prev, [dayKey]: sideDishName || "" }));
     setSideDishOpen((prev) => ({ ...prev, [dayKey]: false }));
   };
 
   const stopEditingDay = (dayKey) => {
     setEditingDays((prev) => ({ ...prev, [dayKey]: false }));
     setMainDishOpen((prev) => ({ ...prev, [dayKey]: false }));
     setSideDishOpen((prev) => ({ ...prev, [dayKey]: false }));
   };
 
   const focusMainDish = (dayKey) => {
     window.requestAnimationFrame(() => {
       const node = mainDishRefs.current.get(dayKey);
       if (node) {
         node.focus();
       }
     });
   };
 
-  const focusSideDish = (dayKey) => {
-    window.requestAnimationFrame(() => {
-      const node = sideDishRefs.current.get(dayKey);
-      if (node) {
-        node.focus();
-      }
-    });
-  };
-
-  useEffect(() => {
-    const assignPlateId = searchParams.get("assignPlateId");
-    const assignDate = searchParams.get("date");
-    if (!assignPlateId || !assignDate) return;
-
-    const intentKey = `${assignPlateId}-${assignDate}`;
-    if (assignIntentRef.current?.key === intentKey && assignIntentRef.current?.handled) {
-      return;
-    }
-
-    const targetWeekStart = getMondayISO(new Date(assignDate));
-    if (weekStart !== targetWeekStart) {
-      assignIntentRef.current = { key: intentKey, handled: false };
-      setWeekStart(targetWeekStart);
-      return;
-    }
-
-    if (!safeDays.length) return;
-    const targetDay = safeDays.find((day) => day.date?.slice(0, 10) === assignDate);
-    if (!targetDay) {
-      assignIntentRef.current = { key: intentKey, handled: true };
-      setSearchParams({}, { replace: true });
-      return;
-    }
-
-    const allDishes = [...dishes, ...sideDishes];
-    const targetDish = allDishes.find((dish) => dish._id === assignPlateId);
-    const targetIndex = safeDays.findIndex((day) => day.date?.slice(0, 10) === assignDate);
-
-    setSelectedDay(assignDate);
-    if (targetIndex >= 0) {
-      setActiveIndex(targetIndex);
-    }
-    startEditingDay(targetDay);
-    if (targetDish?.sidedish) {
-      setSideDishEnabled((prev) => ({ ...prev, [assignDate]: true }));
-      setSideDishQueries((prev) => ({ ...prev, [assignDate]: targetDish.name }));
-      updateDay(targetDay, { sideDishId: targetDish._id });
-      focusSideDish(assignDate);
-    } else if (targetDish) {
-      setMainDishQueries((prev) => ({ ...prev, [assignDate]: targetDish.name }));
-      updateDay(targetDay, { mainDishId: targetDish._id });
-      focusMainDish(assignDate);
-    }
-
-    window.requestAnimationFrame(() => {
-      const node =
-        dayRefs.current.get(assignDate) || document.getElementById(`kitchen-day-${assignDate}`);
-      if (node) {
-        node.scrollIntoView({ behavior: "smooth", block: "nearest", inline: "start" });
-        node.focus?.({ preventScroll: true });
-      }
-    });
-
-    assignIntentRef.current = { key: intentKey, handled: true };
-    setSearchParams({}, { replace: true });
-  }, [
-    dishes,
-    focusMainDish,
-    focusSideDish,
-    safeDays,
-    searchParams,
-    setSearchParams,
-    sideDishes,
-    startEditingDay,
-    updateDay,
-    weekStart
-  ]);
+  const focusSideDish = (dayKey) => {
+    window.requestAnimationFrame(() => {
+      const node = sideDishRefs.current.get(dayKey);
+      if (node) {
+        node.focus();
+      }
+    });
+  };
+
+  useEffect(() => {
+    const assignPlateId = searchParams.get("assignPlateId") || searchParams.get("plateId");
+    const assignDate = searchParams.get("date");
+    if (!assignPlateId || !assignDate) return;
+
+    const intentKey = `${assignPlateId}-${assignDate}`;
+    if (assignIntentRef.current?.key === intentKey) {
+      return;
+    }
+
+    assignIntentRef.current = {
+      key: intentKey,
+      handled: false,
+      plateId: assignPlateId,
+      date: assignDate
+    };
+
+    const targetWeekStart = getMondayISO(new Date(assignDate));
+    if (weekStart !== targetWeekStart) {
+      setWeekStart(targetWeekStart);
+    }
+  }, [searchParams, weekStart]);
+
+  const clearAssignParams = useCallback(() => {
+    const nextParams = new URLSearchParams(searchParams);
+    nextParams.delete("assignPlateId");
+    nextParams.delete("plateId");
+    nextParams.delete("assign");
+    nextParams.delete("date");
+    setSearchParams(nextParams, { replace: true });
+  }, [searchParams, setSearchParams]);
+
+  useEffect(() => {
+    const intent = assignIntentRef.current;
+    if (!intent || intent.handled) return;
+    if (loading || !plan || !safeDays.length) return;
+
+    const planWeekStart = plan?.weekStart
+      ? getMondayISO(new Date(plan.weekStart))
+      : null;
+    if (planWeekStart && planWeekStart !== weekStart) return;
+
+    const { date: assignDate, plateId: assignPlateId, key: intentKey } = intent;
+    const targetDay = safeDays.find((day) => day.date?.slice(0, 10) === assignDate);
+    if (!targetDay) {
+      assignIntentRef.current = { key: intentKey, handled: true };
+      clearAssignParams();
+      return;
+    }
+
+    const allDishes = [...dishes, ...sideDishes];
+    const targetDish = allDishes.find((dish) => dish._id === assignPlateId);
+    const targetIndex = safeDays.findIndex((day) => day.date?.slice(0, 10) === assignDate);
+
+    setSelectedDay(assignDate);
+    if (targetIndex >= 0) {
+      setActiveIndex(targetIndex);
+    }
+    startEditingDay(targetDay);
+    if (targetDish?.sidedish) {
+      setSideDishEnabled((prev) => ({ ...prev, [assignDate]: true }));
+      setSideDishQueries((prev) => ({ ...prev, [assignDate]: targetDish.name }));
+      updateDay(targetDay, { sideDishId: targetDish._id });
+      focusSideDish(assignDate);
+    } else if (targetDish) {
+      setMainDishQueries((prev) => ({ ...prev, [assignDate]: targetDish.name }));
+      updateDay(targetDay, { mainDishId: targetDish._id });
+      focusMainDish(assignDate);
+    }
+
+    window.requestAnimationFrame(() => {
+      const node =
+        dayRefs.current.get(assignDate) || document.getElementById(`kitchen-day-${assignDate}`);
+      if (node) {
+        node.scrollIntoView({ behavior: "smooth", block: "nearest", inline: "start" });
+        node.focus?.({ preventScroll: true });
+      }
+    });
+
+    assignIntentRef.current = { key: intentKey, handled: true };
+    clearAssignParams();
+  }, [
+    clearAssignParams,
+    dishes,
+    focusMainDish,
+    focusSideDish,
+    loading,
+    plan,
+    safeDays,
+    sideDishes,
+    startEditingDay,
+    updateDay,
+    weekStart
+  ]);
 
   const handleAssignCta = async (day, canEdit, isAssigned) => {
     const dayKey = day.date.slice(0, 10);
     if (canEdit) {
       startEditingDay(day);
       focusMainDish(dayKey);
       return;
     }
     if (!isAssigned && user) {
       const updatedPlan = await onAssignSelf(day);
       if (updatedPlan) {
         startEditingDay(day);
         focusMainDish(dayKey);
       }
     }
   };
 
   const openDishModal = (dayKey, name, options = {}) => {
     const { mode = "main", sidedish = false } = options;
     setDishModalDayKey(dayKey);
     setDishModalName(name);
     setDishModalMode(mode);
     setDishModalSidedish(sidedish);
     setDishModalOpen(true);
   };
